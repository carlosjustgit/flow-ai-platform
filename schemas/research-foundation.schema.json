{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://flowproductions.pt/schemas/research-foundation.schema.json",
  "title": "Research foundation pack",
  "type": "object",
  "required": [
    "sources",
    "lean_canvas",
    "swot",
    "competitor_landscape",
    "market_and_audience_insights",
    "campaign_foundations",
    "client_deck_outline",
    "assumptions",
    "unknowns_and_questions",
    "sources_needed"
  ],
  "properties": {
    "sources": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "title", "url", "publisher", "accessed_at", "notes"],
        "properties": {
          "id": { "type": "string", "minLength": 1 },
          "title": { "type": "string", "minLength": 3 },
          "url": { "type": "string", "minLength": 5 },
          "publisher": { "type": "string", "minLength": 2 },
          "accessed_at": { "type": "string", "minLength": 4 },
          "notes": { "type": "string" }
        }
      }
    },
    "lean_canvas": {
      "type": "object",
      "required": [
        "problem",
        "customer_segments",
        "unique_value_proposition",
        "solution",
        "channels",
        "revenue_streams",
        "cost_structure",
        "key_metrics",
        "unfair_advantage"
      ],
      "properties": {
        "problem": { "type": "string", "minLength": 10 },
        "customer_segments": {
          "oneOf": [
            { "type": "array", "items": { "type": "string" }, "minItems": 1 },
            { "type": "string", "minLength": 5 }
          ]
        },
        "unique_value_proposition": { "type": "string", "minLength": 10 },
        "solution": { "type": "string", "minLength": 10 },
        "channels": {
          "oneOf": [
            { "type": "array", "items": { "type": "string" }, "minItems": 1 },
            { "type": "string", "minLength": 5 }
          ]
        },
        "revenue_streams": {
          "oneOf": [
            { "type": "array", "items": { "type": "string" }, "minItems": 1 },
            { "type": "string", "minLength": 5 }
          ]
        },
        "cost_structure": {
          "oneOf": [
            { "type": "array", "items": { "type": "string" }, "minItems": 1 },
            { "type": "string", "minLength": 5 }
          ]
        },
        "key_metrics": {
          "oneOf": [
            { "type": "array", "items": { "type": "string" }, "minItems": 1 },
            { "type": "string", "minLength": 5 }
          ]
        },
        "unfair_advantage": { "type": "string", "minLength": 5 }
      }
    },
    "swot": {
      "type": "object",
      "required": ["strengths", "weaknesses", "opportunities", "threats"],
      "properties": {
        "strengths": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
        "weaknesses": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
        "opportunities": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
        "threats": { "type": "array", "items": { "type": "string" }, "minItems": 1 }
      }
    },
    "competitor_landscape": {
      "type": "object",
      "required": ["competitors", "category_notes"],
      "properties": {
        "competitors": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "positioning_summary"],
            "properties": {
              "name": { "type": "string", "minLength": 2 },
              "website": { "type": "string" },
              "positioning_summary": { "type": "string", "minLength": 10 },
              "target_customers": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "offers": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "pricing_notes": { "type": "string" },
              "messaging_angles": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "strengths": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "weaknesses": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "differentiation_opportunities": {
                "oneOf": [
                  { "type": "array", "items": { "type": "string" } },
                  { "type": "string" }
                ]
              },
              "source_ids": {
                "type": "array",
                "items": { "type": "string" }
              }
            }
          }
        },
        "category_notes": { "type": "string" }
      }
    },
    "market_and_audience_insights": {
      "type": "object",
      "required": ["trends", "customer_pains", "buying_triggers", "objections_and_risks"],
      "properties": {
        "trends": {
          "type": "array",
          "minItems": 1,
          "items": { "type": "object" }
        },
        "customer_pains": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
        "buying_triggers": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
        "objections_and_risks": { "type": "array", "items": { "type": "string" }, "minItems": 1 }
      }
    },
    "campaign_foundations": {
      "type": "object",
      "required": [
        "positioning_statement",
        "messaging_pillars",
        "suggested_channel_strategy"
      ],
      "properties": {
        "positioning_statement": { "type": "string", "minLength": 20 },
        "messaging_pillars": { "type": "array", "items": { "type": "string" }, "minItems": 2 },
        "proof_points": { "type": "array", "items": { "type": "string" } },
        "claims_rules": { "type": "object" },
        "recommended_CTA_patterns": { "type": "array", "items": { "type": "string" } },
        "suggested_channel_strategy": { "type": "object" },
        "content_themes": { "type": "array", "items": { "type": "string" } },
        "content_series": { "type": "array", "items": { "type": "string" } },
        "first_30_days_plan": { "type": "array", "items": { "type": "string" } }
      }
    },
    "client_deck_outline": {
      "type": "object",
      "required": ["slides"],
      "properties": {
        "slides": {
          "type": "array",
          "minItems": 3,
          "items": {
            "type": "object",
            "required": ["slide_title", "key_points"],
            "properties": {
              "slide_title": { "type": "string", "minLength": 3 },
              "key_points": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
              "visuals_suggestions": { "type": "array", "items": { "type": "string" } },
              "data_or_sources_to_show": { "type": "array", "items": { "type": "string" } }
            }
          }
        }
      }
    },
    "assumptions": { "type": "array", "items": { "type": "string" } },
    "unknowns_and_questions": { "type": "array", "items": { "type": "string" } },
    "sources_needed": { "type": "array", "items": { "type": "string" } }
  }
}
